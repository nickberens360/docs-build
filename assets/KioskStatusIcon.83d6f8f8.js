import{p as l,i as n,d as h}from"./date-fns.d38e1d55.js";import{_ as d}from"./index.8a58b007.js";import{c as u,s as p}from"./vuetify.65d833ec.js";import{e as f,x as k,k as o,E as s,g as v,B as S,J as m,I as a,s as O}from"./@vue.ee679632.js";function r(e){if(!e)return"No timestamp provided";const t=l(e);return n(t)?h(new Date,t):(console.error("Invalid timestamp:",e),"Invalid timestamp")}const M={props:{kiosk:{type:Object,required:!0},statusType:{type:String,required:!0,validator:e=>["machineHealth","connection","service"].includes(e)}},data(){return{colorMap:{machineHealth:{default:"primary-lighten-3",OutOfOrder:"error",OK:"success"},service:{default:"primary-lighten-3",lastServiceSuccess:"success",lastServiceWarning:"warning",lastServiceError:"error"},connection:{default:"primary-lighten-3",Online:"success",Offline:"error",NeverConnected:"warning"}},iconMap:{machineHealth:{default:"$heartCircleExclamation",OutOfOrder:"$heartCrack",OK:"$heartCircleCheck"},service:{default:"$calendarWrenchSolid",lastServiceSuccess:"$calendarWrenchSolid",lastServiceWarning:"$calendarWrenchSolid",lastServiceError:"$calendarCircleExclamation"},connection:{default:"$wifiSlash",Online:"$wifi",Offline:"$wifiSlash",NeverConnected:"$wifiExclamation"}},tooltipMap:{machineHealth:{default:"NA",OutOfOrder:"Out of order",OK:"Healthy"},service:{default:"",lastServiceSuccess:"",lastServiceWarning:"",lastServiceError:""},connection:{default:"",Online:"",Offline:"",NeverConnected:"Never Connected"}}}},computed:{labelMap(){return{machineHealth:{default:"",OutOfOrder:"",OK:""},service:{default:"NA",lastServiceSuccess:this.kiosk.lastService+" d",lastServiceWarning:this.kiosk.lastService+" d",lastServiceError:this.kiosk.lastService+" d"},connection:{default:"NA",Online:r(this.kiosk.lastConnectedTimestamp)+" d",Offline:r(this.kiosk.lastConnectedTimestamp)+" d",NeverConnected:""}}},status(){let e=this.statusType,t={color:this.colorMap[e].default,icon:this.iconMap[e].default,label:this.labelMap[e].default,tooltip:this.tooltipMap[e].default};return e==="machineHealth"&&this.kiosk.machineHealth?(t.color=this.colorMap[e][this.kiosk.machineHealth],t.icon=this.iconMap[e][this.kiosk.machineHealth],t.label=this.labelMap[e][this.kiosk.machineHealth],t.tooltip=this.tooltipMap[e][this.kiosk.machineHealth]):e==="service"&&this.serviceMapKey?(t.color=this.colorMap[e][this.serviceMapKey],t.icon=this.iconMap[e][this.serviceMapKey],t.label=this.labelMap[e][this.serviceMapKey],t.tooltip=this.tooltipMap[e][this.serviceMapKey]):e==="connection"&&this.kiosk.connectionStatus&&(t.color=this.colorMap[e][this.kiosk.connectionStatus],t.icon=this.iconMap[e][this.kiosk.connectionStatus],t.label=this.labelMap[e][this.kiosk.connectionStatus],t.tooltip=this.tooltipMap[e][this.kiosk.connectionStatus]),t},serviceMapKey(){let e="default";return this.kiosk.lastService>=0&&this.kiosk.lastService<=60?e="lastServiceSuccess":this.kiosk.lastService>60&&this.kiosk.lastService<100?e="lastServiceWarning":this.kiosk.lastService>=100&&(e="lastServiceError"),e}}},y={class:"hidden-screen-only"};function _(e,t,g,C,K,i){return f(),k(p,{class:"kiosk-status-icon",location:"top left",disabled:!i.status.tooltip},{activator:o(({props:c})=>[s("div",O(c,{class:"d-flex align-center"}),[v(u,{size:"32",icon:i.status.icon,color:i.status.color,class:"kiosk-status-icon__icon mr-3"},null,8,["icon","color"]),s("span",{class:S(["kiosk-status-icon__label font-weight-bold",`text-${i.status.color}`])},[m(a(i.status.label)+" ",1),s("span",y,a(i.status.tooltip),1)],2)],16)]),default:o(()=>[s("span",null,a(i.status.tooltip),1)]),_:1},8,["disabled"])}const b=d(M,[["render",_]]),w=Object.freeze(Object.defineProperty({__proto__:null,default:b},Symbol.toStringTag,{value:"Module"}));export{b as K,w as a,r as d};
