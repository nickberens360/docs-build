import{S as u,e as s,f as n,g as a,k as i,J as r,I as c,E as m,G as y,j as g,l as w,W as b,aj as k,ak as S}from"./@vue.ee679632.js";import{_ as x}from"./index.8a58b007.js";import{A as V,u as v}from"./vuetify.65d833ec.js";import"./vuex.0eb68a2c.js";import"./date-fns.d38e1d55.js";import"./vue-atomic-docs.4f3653eb.js";import"./vue-router.ec64e966.js";import"./axios.eca6faa7.js";import"./axios-cache-interceptor.0956cad0.js";import"./cache-parser.124ebbb8.js";import"./fast-defer.b34f24de.js";import"./object-code.c2755e43.js";import"./@fortawesome.2cecc5e3.js";import"./@awesome.me.7dae7d79.js";const d={props:{comments:{type:Array,required:!0},height:{type:[String,Number],default:"230px"},loading:{type:Boolean,default:!1}},emits:["commentAdded"],data:()=>({showCommentHistory:!0,newComment:""}),computed:{chronologicalComments(){return[...this.comments].sort((t,e)=>new Date(e.timestamp)-new Date(t.timestamp))},heightAttribute(){let t=this.height;return isNaN(+t)||(t+="px"),t}},methods:{clearCommentAndShowHistory(){this.newComment="",this.showCommentHistory=!0},submitComment(){this.$emit("commentAdded",this.newComment),this.clearCommentAndShowHistory()}}},h=()=>{b(t=>({"57538dde":t.heightAttribute}))},f=d.setup;d.setup=f?(t,e)=>(h(),f(t,e)):h;const A=d,B=t=>(k("data-v-2c37c681"),t=t(),S(),t),H={class:"comment-box"},N={class:"comment-box__main-content"},D={key:0,class:"pt-2"},I={class:"on-surface-low-contrast-text"},$={class:"px-1"},j={class:"on-surface-low-contrast-text"},P={key:1,class:"pt-5"},T={class:"comment-box__footer"},U={key:0,class:"comment-box__footer-content"},E=B(()=>m("div",null,null,-1)),F={key:1,class:"comment-box__footer-content"};function L(t,e,_,q,G,l){const p=u("VBtnPrimary"),C=u("VBtnSecondary");return s(),n("div",H,[a(V,{class:"pl-4",color:"primary-lighten-2",height:"32"},{default:i(()=>[r(" Comments - "+c(_.comments.length),1)]),_:1}),m("div",N,[t.showCommentHistory?(s(),n("ul",D,[(s(!0),n(y,null,g(l.chronologicalComments,o=>(s(),n("li",{key:o.identifier,class:"py-1 text-primary"},[m("span",I,c(new Date(o.timestamp).toLocaleDateString()),1),m("span",$,c(o.message),1),m("span",j,"- "+c(o.username),1)]))),128))])):(s(),n("div",P,[a(v,{modelValue:t.newComment,"onUpdate:modelValue":e[0]||(e[0]=o=>t.newComment=o),autofocus:"",density:"comfortable",label:"Comment",variant:"solo"},null,8,["modelValue"])]))]),m("footer",T,[t.showCommentHistory?(s(),n("div",U,[w(t.$slots,"footer-left",{},()=>[E],!0),a(p,{"prepend-icon":"$commentPlus",density:"comfortable",loading:_.loading,onClick:e[1]||(e[1]=o=>t.showCommentHistory=!1)},{default:i(()=>[r(" Add Comment ")]),_:1},8,["loading"])])):(s(),n("div",F,[a(C,{density:"comfortable","prepend-icon":"$xmark",onClick:l.clearCommentAndShowHistory},{default:i(()=>[r(" Cancel ")]),_:1},8,["onClick"]),a(p,{density:"comfortable","prepend-icon":"$check",disabled:!t.newComment.length,onClick:l.submitComment},{default:i(()=>[r(" Submit ")]),_:1},8,["disabled","onClick"])]))])])}const st=x(A,[["render",L],["__scopeId","data-v-2c37c681"]]);export{st as default};
