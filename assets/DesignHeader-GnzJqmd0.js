import{_,r as h,d as v}from"./index-LK9MQE2L.js";import{w as V,f as x,ah as C,s as g,d as c,n as k,u as b,b as y,x as D,aj as N}from"./vuetify-BgnNF2O3.js";import{C as p,i as t,e as i,b as r,B as l,H as u,p as f,J as m,A as o}from"./@vue-DNrUJgob.js";import"./vuex-D3TwipD2.js";import"./date-fns-2ylUqVpG.js";import"./@babel-BTTPuEuv.js";import"./vue-component-docs-plugin-BnqcuvvC.js";import"./vue-router-BVOKdCCq.js";import"./axios-xsH4HHeE.js";import"./axios-cache-interceptor-DgAMPFM2.js";import"./cache-parser-DXYp_BCq.js";import"./fast-defer-9MI9za_P.js";import"./object-code-SBtdq8jY.js";import"./@fortawesome-BWcQmPY7.js";import"./@awesome.me-Btqfd-fw.js";const U={props:{isNew:Boolean,design:{type:Object,default:()=>({})},existsInDatabase:Boolean,existingDesignCodes:{type:Array,default:()=>[]}},emits:["input","update-design-code","update-blacklisted","update-deprecated"],data:()=>({isEditing:!1,valid:{name:!1,designCode:!1}}),computed:{isCarKey(){return this.design.productClass==="CK"},designCode:{get(){return this.design.designCode},set(s){this.$emit("update-design-code",s.toUpperCase())}},englishName:{get(){return this.design.names.find(s=>s.locale==="en").name},set(s){this.design.names.find(e=>e.locale==="en").name=s}},blacklisted:{get(){return this.design.carKeyDesign.blacklisted},set(s){this.$emit("update-blacklisted",s)}},deprecated:{get(){return this.design.skus[0].deprecated},set(s){this.$emit("update-deprecated",s)}}},watch:{valid:{handler:"emitValidationStatus",deep:!0}},methods:{designCodeFormat:v,required:h,emitValidationStatus(){this.$emit("input",this.validate())},designCodeUnique(s){return s===this.initialDesignCode||!this.existingDesignCodes.includes(s)||"can't use existing design code"},validate(){return Object.values(this.$refs).reduce(async(s,e)=>{const{valid:n}=await e.validate();return!e||n&&s},!0)}}},B={key:0,class:"d-flex align-center"},S={class:"text-subtitle-1"},q={class:"text-subtitle-1"},w={key:1},K={key:1,class:"text-h6"},E={key:1,class:"text-subtitle-1 text-left text-md-right"};function T(s,e,n,F,j,a){return o(),p(N,{class:"design-header"},{default:t(()=>[i(D,{class:"align-center bg-surface-light px-2"},{default:t(()=>[i(V,{cols:"12",sm:"9"},{default:t(()=>[a.isCarKey?(o(),r("div",B,[l("div",null,[l("div",S," SKU: "+u(n.design.skus[0].sku),1),l("div",q," Hillman SKU: "+u(n.design.carKeyDesign.hillmanSku),1)]),i(x,{class:"mx-4",vertical:""}),l("div",null,[i(C,{modelValue:a.blacklisted,"onUpdate:modelValue":e[0]||(e[0]=d=>a.blacklisted=d),label:"Blacklisted",class:"mr-4","hide-details":""},{append:t(()=>[i(g,{location:"top"},{activator:t(({props:d})=>[i(c,f(d,{class:"ml-n3",size:"18"}),{default:t(()=>e[5]||(e[5]=[m(" $questionCircle ")])),_:2,__:[5]},1040)]),default:t(()=>[e[6]||(e[6]=l("span",null,"These keys are included in the catalog sent to the kiosk but cannot be sold",-1))]),_:1,__:[6]})]),_:1},8,["modelValue"])]),l("div",null,[i(C,{modelValue:a.deprecated,"onUpdate:modelValue":e[1]||(e[1]=d=>a.deprecated=d),label:"Deprecated","hide-details":""},{append:t(()=>[i(g,{location:"top"},{activator:t(({props:d})=>[i(c,f(d,{class:"ml-n3",size:"18"}),{default:t(()=>e[7]||(e[7]=[m(" $questionCircle ")])),_:2,__:[7]},1040)]),default:t(()=>[e[8]||(e[8]=l("span",null,"These keys are not in the catalog that is sent to the kiosk",-1))]),_:1,__:[8]})]),_:1},8,["modelValue"])])])):(o(),r("div",w,[n.isNew||s.isEditing?(o(),p(k,{key:0,ref:"name"},{default:t(()=>[i(b,{modelValue:a.englishName,"onUpdate:modelValue":[e[2]||(e[2]=d=>a.englishName=d),a.emitValidationStatus],label:"Name",rules:[a.required]},null,8,["modelValue","rules","onUpdate:modelValue"])]),_:1},512)):(o(),r("div",K,[m(u(a.englishName)+" ",1),i(g,{location:"bottom"},{activator:t(({props:d})=>[i(y,f(d,{class:"ml-1",icon:"",style:{"vertical-align":"sub"},onClick:e[3]||(e[3]=H=>s.isEditing=!0)}),{default:t(()=>[i(c,null,{default:t(()=>e[9]||(e[9]=[m("$edit")])),_:1,__:[9]})]),_:2},1040)]),default:t(()=>[e[10]||(e[10]=l("span",null,"Edit Name",-1))]),_:1,__:[10]})]))]))]),_:1}),i(V,{cols:"12",sm:"3"},{default:t(()=>[n.existsInDatabase?(o(),r("div",E," Design Code: "+u(n.design.designCode),1)):(o(),p(k,{key:0,ref:"designCode"},{default:t(()=>[i(b,{modelValue:a.designCode,"onUpdate:modelValue":[e[4]||(e[4]=d=>a.designCode=d),a.emitValidationStatus],label:"Design Code",rules:[a.required,a.designCodeUnique,a.designCodeFormat]},null,8,["modelValue","rules","onUpdate:modelValue"])]),_:1},512))]),_:1})]),_:1})]),_:1})}const $=_(U,[["render",T]]);export{$ as default};
