import{S as v,e as o,x as n,k as i,E as m,g as l,J as d,H as w,I as y,L as f,M as u,F as c}from"./@vue.ee679632.js";import{_ as L}from"./index.8a58b007.js";import{O as V,q as p,c as g,t as U,a5 as S,a6 as I}from"./vuetify.65d833ec.js";import"./vuex.0eb68a2c.js";import"./date-fns.d38e1d55.js";import"./vue-atomic-docs.4f3653eb.js";import"./vue-router.ec64e966.js";import"./axios.eca6faa7.js";import"./axios-cache-interceptor.0956cad0.js";import"./cache-parser.124ebbb8.js";import"./fast-defer.b34f24de.js";import"./object-code.c2755e43.js";import"./@fortawesome.2cecc5e3.js";import"./@awesome.me.7dae7d79.js";const R={props:{width:{type:[Number,String],default:void 0},height:{type:[Number,String],default:void 0},hideSize:Boolean,img:{type:String,default:""},lazySrc:{type:String,default:""},accept:{type:String,default:""}},emits:["newImage"],data:()=>({file:null,previewURL:null,failedToLoadImage:!1,isValid:!0}),methods:{reset(){this.file=this.previewURL=null,this.failedToLoadImage=!1},validate(){return this.isValid=!!this.file,this.isValid},onFileChosen([e]){e&&(this.previewURL=URL.createObjectURL(e),this.file=e,this.$emit("newImage",{file:e,previewURL:this.previewURL})),this.validate()},openUploadDialog(){this.$refs.upload.click()}}},x=m("div",{class:"text-subtitle-2 mt-4"}," Product Image ",-1),k=["accept"];function C(e,t,a,T,z,s){const h=v("VBtnPrimary");return o(),n(p,{variant:"outlined",class:"d-flex flex-column justify-center align-center pa-4",width:"100%",onDragover:t[2]||(t[2]=c(()=>{},["prevent"])),onDrop:t[3]||(t[3]=c(r=>s.onFileChosen(r.dataTransfer.files),["prevent"]))},{default:i(()=>[m("div",{class:"d-flex align-center",style:w(`height: ${a.height}px; width: 100%;`)},[!e.failedToLoadImage&&(e.previewURL||a.img)?(o(),n(V,{key:0,"lazy-src":a.lazySrc,src:e.previewURL||a.img,class:"d-block","max-height":a.height,"max-width":"100%",onError:t[0]||(t[0]=r=>e.failedToLoadImage=!0)},null,8,["lazy-src","src","max-height"])):(o(),n(p,{key:1,rounded:"0",flat:"",width:"100%",height:"100%",color:"surface-light"},{default:i(()=>[l(U,{class:"d-flex flex-column align-center justify-center h-100"},{default:i(()=>[l(g,{size:"x-large",class:"d-block"},{default:i(()=>[d(" $image ")]),_:1}),x]),_:1})]),_:1}))],4),l(h,{class:"mt-4",onClick:s.openUploadDialog},{default:i(()=>[l(g,{size:"small",start:""},{default:i(()=>[d(" $camera ")]),_:1}),d(y(!e.previewURL&&!a.img||e.failedToLoadImage?"Upload":"Replace"),1)]),_:1},8,["onClick"]),f(m("input",{ref:"upload",accept:a.accept,type:"file",onChange:t[1]||(t[1]=r=>s.onFileChosen(r.target.files))},null,40,k),[[u,!1]]),l(I,null,{default:i(()=>[f(l(S,{class:"mt-2",value:["*Required"],color:"error"},null,512),[[u,!e.isValid]])]),_:1})]),_:1})}const Y=L(R,[["render",C]]);export{Y as default};
