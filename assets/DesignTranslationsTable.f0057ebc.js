import{S as u,e as i,f as d,E as o,g as a,k as l,J as r,G as h,j as T,D as y,I as m,x as C,z as _}from"./@vue.ee679632.js";import{_ as v}from"./index.8a58b007.js";import{d as f,as as k,q as c,k as b,t as D,l as B,aj as F,x as A,w as V,n as S,u as N,p as q,i as L,r as U,c as $}from"./vuetify.65d833ec.js";import"./vuex.0eb68a2c.js";import"./date-fns.d38e1d55.js";import"./vue-atomic-docs.4f3653eb.js";import"./vue-router.ec64e966.js";import"./axios.eca6faa7.js";import"./axios-cache-interceptor.0956cad0.js";import"./cache-parser.124ebbb8.js";import"./fast-defer.b34f24de.js";import"./object-code.c2755e43.js";import"./@fortawesome.2cecc5e3.js";import"./@awesome.me.7dae7d79.js";const j={props:{design:{type:Object,default:()=>({})}},emits:["delete-translation","add-translation"],data:()=>({newTranslation:{locale:"",name:""},validForm:void 0,showDialog:!1}),computed:{availableLocales(){return["en","en_CA","en_US","es","fr","fr_CA"].filter(e=>!this.design.names.map(n=>n.locale).includes(e))}},methods:{required(e){return!!e||"*Required"},async addTranslation(e){e.target.blur(),await this.$refs.form.validate(),this.validForm&&(this.showDialog=!1,this.$emit("add-translation",{newTranslation:this.newTranslation,designId:this.design.id}),this.$refs.form.reset())},deleteTranslation(e){this.$emit("delete-translation",e)}}},I={class:"d-flex justify-end"},K=o("thead",null,[o("tr",null,[o("th",{style:{width:"calc(100% / 6)"}}," Locale "),o("th",{style:{width:"calc(100% * 4 / 6)"}}," Design Name "),o("th",{style:{width:"calc(100% / 6)%","text-align":"right"}}," Actions ")])],-1),x={class:"text-right"};function E(e,n,p,P,R,s){const g=u("VBtnSecondary"),w=u("VBtnPrimary");return i(),d("div",null,[o("div",I,[a(f,{light:"",color:"primary",onClick:n[0]||(n[0]=t=>e.showDialog=!0)},{default:l(()=>[r(" Add Translation ")]),_:1})]),a(k,null,{default:l(()=>[K,o("tbody",null,[(i(!0),d(h,null,T(p.design.names,t=>(i(),d("tr",{key:t.locale},[o("td",null,m(t.locale),1),o("td",null,m(t.name),1),o("td",x,[t.id===void 0&&t.locale!=="en"?(i(),C(f,{key:0,icon:"",onClick:z=>s.deleteTranslation(t)},{default:l(()=>[a($,null,{default:l(()=>[r("$vuetify.icons.trash")]),_:1})]),_:2},1032,["onClick"])):_("",!0)])]))),128))])]),_:1}),a(U,{modelValue:e.showDialog,"onUpdate:modelValue":n[5]||(n[5]=t=>e.showDialog=t)},{default:l(()=>[a(c,{color:"surface-light",class:"mt-4"},{default:l(()=>[a(b,null,{default:l(()=>[r("Add a Translation")]),_:1}),a(D,null,{default:l(()=>[a(B,{ref:"form",modelValue:e.validForm,"onUpdate:modelValue":n[3]||(n[3]=t=>e.validForm=t)},{default:l(()=>[a(c,{flat:"",color:"surface"},{default:l(()=>[a(F,null,{default:l(()=>[a(A,{class:"align-center"},{default:l(()=>[a(V,{cols:"12",sm:"4"},{default:l(()=>[a(S,{modelValue:e.newTranslation.locale,"onUpdate:modelValue":n[1]||(n[1]=t=>e.newTranslation.locale=t),label:"Locale",items:s.availableLocales,rules:[s.required]},null,8,["modelValue","items","rules"])]),_:1}),a(V,{cols:"12",sm:"8"},{default:l(()=>[a(N,{modelValue:e.newTranslation.name,"onUpdate:modelValue":n[2]||(n[2]=t=>e.newTranslation.name=t),label:"Design Name",rules:[s.required],onKeydown:y(s.addTranslation,["enter"])},null,8,["modelValue","rules","onKeydown"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),a(q,{class:"px-4 pt-0 pb-4"},{default:l(()=>[a(g,{onClick:n[4]||(n[4]=t=>e.showDialog=!1)},{default:l(()=>[r(" Cancel ")]),_:1}),a(L),a(w,{disabled:!e.validForm,onClick:s.addTranslation},{default:l(()=>[r(" Add ")]),_:1},8,["disabled","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])}const ne=v(j,[["render",E]]);export{ne as default};
