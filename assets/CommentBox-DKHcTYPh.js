import{b as s,e as i,B as m,i as r,F as y,g,j as b,_,A as n,J as a,H as l,Y as w}from"./@vue-DNrUJgob.js";import{_ as k}from"./index-LK9MQE2L.js";import{A as V,u as x}from"./vuetify-BgnNF2O3.js";import"./vuex-D3TwipD2.js";import"./date-fns-2ylUqVpG.js";import"./@babel-BTTPuEuv.js";import"./vue-component-docs-plugin-BnqcuvvC.js";import"./vue-router-BVOKdCCq.js";import"./axios-xsH4HHeE.js";import"./axios-cache-interceptor-DgAMPFM2.js";import"./cache-parser-DXYp_BCq.js";import"./fast-defer-9MI9za_P.js";import"./object-code-SBtdq8jY.js";import"./@fortawesome-BWcQmPY7.js";import"./@awesome.me-Btqfd-fw.js";const c={props:{comments:{type:Array,required:!0},height:{type:[String,Number],default:"230px"},loading:{type:Boolean,default:!1}},emits:["commentAdded"],data:()=>({showCommentHistory:!0,newComment:""}),computed:{chronologicalComments(){return[...this.comments].sort((t,e)=>new Date(e.timestamp)-new Date(t.timestamp))},heightAttribute(){let t=this.height;return isNaN(+t)||(t+="px"),t}},methods:{clearCommentAndShowHistory(){this.newComment="",this.showCommentHistory=!0},submitComment(){this.$emit("commentAdded",this.newComment),this.clearCommentAndShowHistory()}}},h=()=>{w(t=>({"57538dde":t.heightAttribute}))},C=c.setup;c.setup=C?(t,e)=>(h(),C(t,e)):h;const S={class:"comment-box"},A={class:"comment-box__main-content"},v={key:0,class:"pt-2"},B={class:"on-surface-low-contrast-text"},H={class:"px-1"},N={class:"on-surface-low-contrast-text"},D={key:1,class:"pt-5"},$={class:"comment-box__footer"},F={key:0,class:"comment-box__footer-content"},P={key:1,class:"comment-box__footer-content"};function T(t,e,p,U,j,d){const u=_("VBtnPrimary"),f=_("VBtnSecondary");return n(),s("div",S,[i(V,{class:"pl-4",color:"primary-lighten-2",height:"32"},{default:r(()=>[a(" Comments - "+l(p.comments.length),1)]),_:1}),m("div",A,[t.showCommentHistory?(n(),s("ul",v,[(n(!0),s(y,null,g(d.chronologicalComments,o=>(n(),s("li",{key:o.identifier,class:"py-1 text-primary"},[m("span",B,l(new Date(o.timestamp).toLocaleDateString()),1),m("span",H,l(o.message),1),m("span",N,"- "+l(o.username),1)]))),128))])):(n(),s("div",D,[i(x,{modelValue:t.newComment,"onUpdate:modelValue":e[0]||(e[0]=o=>t.newComment=o),autofocus:"",density:"comfortable",label:"Comment",variant:"solo"},null,8,["modelValue"])]))]),m("footer",$,[t.showCommentHistory?(n(),s("div",F,[b(t.$slots,"footer-left",{},()=>[e[2]||(e[2]=m("div",null,null,-1))],!0),i(u,{"prepend-icon":"$commentPlus",density:"comfortable",loading:p.loading,onClick:e[1]||(e[1]=o=>t.showCommentHistory=!1)},{default:r(()=>e[3]||(e[3]=[a(" Add Comment ")])),_:1,__:[3]},8,["loading"])])):(n(),s("div",P,[i(f,{density:"comfortable","prepend-icon":"$xmark",onClick:d.clearCommentAndShowHistory},{default:r(()=>e[4]||(e[4]=[a(" Cancel ")])),_:1,__:[4]},8,["onClick"]),i(u,{density:"comfortable","prepend-icon":"$check",disabled:!t.newComment.length,onClick:d.submitComment},{default:r(()=>e[5]||(e[5]=[a(" Submit ")])),_:1,__:[5]},8,["disabled","onClick"])]))])])}const Z=k(c,[["render",T],["__scopeId","data-v-2c37c681"]]);export{Z as default};
