import{C as o,i as a,B as n,e as l,N as f,J as d,G as v,H as w,_ as y,O as u,E as p,A as m}from"./@vue-DNrUJgob.js";import{_ as L}from"./index-LK9MQE2L.js";import{O as V,l as g,d as h,t as U,a5 as R,a6 as S}from"./vuetify-BgnNF2O3.js";import"./vuex-D3TwipD2.js";import"./date-fns-2ylUqVpG.js";import"./@babel-BTTPuEuv.js";import"./vue-component-docs-plugin-BnqcuvvC.js";import"./vue-router-BVOKdCCq.js";import"./axios-xsH4HHeE.js";import"./axios-cache-interceptor-DgAMPFM2.js";import"./cache-parser-DXYp_BCq.js";import"./fast-defer-9MI9za_P.js";import"./object-code-SBtdq8jY.js";import"./@fortawesome-BWcQmPY7.js";import"./@awesome.me-Btqfd-fw.js";const C={props:{width:{type:[Number,String],default:void 0},height:{type:[Number,String],default:void 0},hideSize:Boolean,img:{type:String,default:""},lazySrc:{type:String,default:""},accept:{type:String,default:""}},emits:["newImage"],data:()=>({file:null,previewURL:null,failedToLoadImage:!1,isValid:!0}),methods:{reset(){this.file=this.previewURL=null,this.failedToLoadImage=!1},validate(){return this.isValid=!!this.file,this.isValid},onFileChosen([t]){t&&(this.previewURL=URL.createObjectURL(t),this.file=t,this.$emit("newImage",{file:t,previewURL:this.previewURL})),this.validate()},openUploadDialog(){this.$refs.upload.click()}}},I=["accept"];function x(t,e,i,k,T,s){const c=y("VBtnPrimary");return m(),o(g,{variant:"outlined",class:"d-flex flex-column justify-center align-center pa-4",width:"100%",onDragover:e[2]||(e[2]=p(()=>{},["prevent"])),onDrop:e[3]||(e[3]=p(r=>s.onFileChosen(r.dataTransfer.files),["prevent"]))},{default:a(()=>[n("div",{class:"d-flex align-center",style:v(`height: ${i.height}px; width: 100%;`)},[!t.failedToLoadImage&&(t.previewURL||i.img)?(m(),o(V,{key:0,"lazy-src":i.lazySrc,src:t.previewURL||i.img,class:"d-block","max-height":i.height,"max-width":"100%",onError:e[0]||(e[0]=r=>t.failedToLoadImage=!0)},null,8,["lazy-src","src","max-height"])):(m(),o(g,{key:1,rounded:"0",flat:"",width:"100%",height:"100%",color:"surface-light"},{default:a(()=>[l(U,{class:"d-flex flex-column align-center justify-center h-100"},{default:a(()=>[l(h,{size:"x-large",class:"d-block"},{default:a(()=>e[4]||(e[4]=[d(" $image ")])),_:1,__:[4]}),e[5]||(e[5]=n("div",{class:"text-subtitle-2 mt-4"}," Product Image ",-1))]),_:1,__:[5]})]),_:1}))],4),l(c,{class:"mt-4",onClick:s.openUploadDialog},{default:a(()=>[l(h,{size:"small",start:""},{default:a(()=>e[6]||(e[6]=[d(" $camera ")])),_:1,__:[6]}),d(w(!t.previewURL&&!i.img||t.failedToLoadImage?"Upload":"Replace"),1)]),_:1},8,["onClick"]),f(n("input",{ref:"upload",accept:i.accept,type:"file",onChange:e[1]||(e[1]=r=>s.onFileChosen(r.target.files))},null,40,I),[[u,!1]]),l(S,null,{default:a(()=>[f(l(R,{class:"mt-2",value:["*Required"],color:"error"},null,512),[[u,!t.isValid]])]),_:1})]),_:1})}const H=L(C,[["render",x]]);export{H as default};
