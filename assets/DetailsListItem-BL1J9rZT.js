import{c as D,m as v}from"./vuex-BwOdvJvI.js";import q from"./ItemRefundDetails-B12pG--e.js";import{_ as R,g as E,a as S}from"./index-AG15HfzG.js";import B from"./ProductImage-CHQgULCi.js";import{C as d,i as e,e as t,s as f,B as g,_ as C,H as n,J as o,b as u,F as h,g as p,x as V,p as F,E as O,A as s}from"./@vue-mGKKYCuj.js";import{x as b,w as c,d as x,a9 as N,a0 as P,l as w,m as j,f as M,i as Q,v as A,t as I,r as L,b as G,D as H}from"./vuetify-BymGJ7fC.js";import"./date-fns-Cq_iz7V_.js";import"./@babel-BTTPuEuv.js";import"./vue-component-docs-plugin-CX_tIU2Y.js";import"./vue-router-CgUA7A7W.js";import"./axios-xsH4HHeE.js";import"./axios-cache-interceptor-DgAMPFM2.js";import"./cache-parser-DXYp_BCq.js";import"./fast-defer-9MI9za_P.js";import"./object-code-SBtdq8jY.js";import"./@fortawesome-C0fAH5tI.js";import"./@awesome.me-Btqfd-fw.js";const J={components:{ProductImage:B,ItemRefundDetails:q},props:{item:{type:Object,required:!0}},data(){return{itemDetailsVisible:!1}},computed:{...v({environment:"app/getEnvConfigs",selectedItems:"order/selectedItems",isOrderEligibleForRefund:"order/isOrderEligibleForRefund"}),isItemChecked(){return this.selectedItems.includes(this.item)},itemCustomizationText(){var m,a,i,k;return{front:(a=(m=this.item.customization)==null?void 0:m.frontSideText)==null?void 0:a.split(`
`),back:(k=(i=this.item.customization)==null?void 0:i.backSideText)==null?void 0:k.split(`
`)}},isOmniProduct(){return S(this.item.type)},omniItemTextColor(){return E(this.item.customization.textColor)},refundedQuantity(){return this.item.refunds.reduce((m,a)=>m+a.quantity,0)},isRefundable(){return this.isOrderEligibleForRefund&&this.item.quantity>this.refundedQuantity},refunded(){return this.item.refunds.length},showFrontBackText(){return this.item.type!=="DN"&&this.item.type!=="KE"&&!this.isOmniProduct}},methods:{...D({toggleSelectedItem:"order/toggleSelectedItem"})}},K={class:"mb-0 mt-3 text-primary-lighten-1"},U={key:0,class:"list-reset ml-4 on-surface-high-contrast-text"},W={key:1,class:"ml-4 text-primary-lighten-1"},X={key:0,class:"list-reset ml-4 on-surface-high-contrast-text"},Y={key:1,class:"ml-4 text-primary-lighten-1"},Z={class:"text-primary-lighten-1"},$={class:"flex-grow-0 pr-4 text-no-wrap"},ee={key:0,class:"mr-4"},te={key:1,class:"mr-4 text-caption"},se={class:"d-flex align-center on-surface-low-contrast-text text-caption-2"},ie={key:0};function ae(m,a,i,k,_,r){const T=C("ProductImage"),z=C("ItemRefundDetails");return s(),d(w,{flat:"",class:V(["details-list-item p-0 rounded-0",{"is-checked":r.isItemChecked,"is-refunded":r.refunded}]),color:r.refunded?"#FEE6E5":"",ripple:!1},{default:e(()=>[t(I,{class:"on-surface-high-contrast-text px-4"},{default:e(()=>[t(b,{justify:"space-between",align:"center"},{default:e(()=>[i.item.type!=="DN"?(s(),d(c,{key:0,cols:"2",class:"d-flex flex-column align-center justify-center text-primary-lighten-1"},{default:e(()=>[t(T,{sku:i.item.sku,"product-type":i.item.type,width:"65px"},null,8,["sku","product-type"]),g("p",K,n(i.item.sku),1)]),_:1})):f("",!0),i.item.type==="DN"?(s(),d(c,{key:1,cols:"2"})):f("",!0),t(c,{class:"text-left on-surface-high-contrast-text"},{default:e(()=>[o(n(i.item.description),1)]),_:1}),r.showFrontBackText?(s(),d(c,{key:2},{default:e(()=>[t(b,{"no-gutters":"",class:"mb-1"},{default:e(()=>[t(c,{cols:"1",class:"d-flex justify-center align-center"},{default:e(()=>[t(x,{class:"mt-1",color:"primary-lighten-2",size:"20"},{default:e(()=>a[2]||(a[2]=[o(" $bringForward ")])),_:1,__:[2]})]),_:1}),t(c,{cols:"11",class:"d-flex align-center"},{default:e(()=>[r.itemCustomizationText.front?(s(),u("ul",U,[(s(!0),u(h,null,p(r.itemCustomizationText.front,(l,y)=>(s(),u("li",{key:y},n(l),1))),128))])):(s(),u("span",W," No Front Text "))]),_:1})]),_:1}),t(b,{"no-gutters":""},{default:e(()=>[t(c,{cols:"1",class:"d-flex justify-center align-center"},{default:e(()=>[t(x,{class:"mt-1",color:"primary-lighten-2",size:"20"},{default:e(()=>a[3]||(a[3]=[o(" $sendBackward ")])),_:1,__:[3]})]),_:1}),t(c,{cols:"11",class:"d-flex align-center"},{default:e(()=>[r.itemCustomizationText.back?(s(),u("ul",X,[(s(!0),u(h,null,p(r.itemCustomizationText.back,(l,y)=>(s(),u("li",{key:y},n(l),1))),128))])):(s(),u("span",Y," No Back Text "))]),_:1})]),_:1})]),_:1})):f("",!0),r.isOmniProduct?(s(),d(c,{key:3,cols:"3",class:"d-flex align-center"},{default:e(()=>[t(N,{color:r.omniItemTextColor,class:"color-preview-square"},null,8,["color"]),t(c,{class:"on-surface-high-contrast-text"},{default:e(()=>[o(n(i.item.customization.frontSideText),1)]),_:1})]),_:1})):f("",!0),t(c,{cols:"3",class:V(["d-flex justify-space-between",r.refunded?"text-error font-weight-bold":"on-surface-high-contrast-text"])},{default:e(()=>[i.item.discounts.length?(s(),d(P,{key:0,"open-on-hover":"",location:"top"},{activator:e(({props:l})=>[t(x,F(l,{class:"icon-duotone-coupon ml-7"}),{default:e(()=>a[4]||(a[4]=[o(" $duoCoupon ")])),_:2,__:[4]},1040)]),default:e(()=>[t(w,{class:"pb-2"},{default:e(()=>[t(j,{class:"on-surface-high-contrast-text pb-2"},{default:e(()=>[o(n(i.item.discounts.length>1?"Discount Codes":"Discount Code"),1)]),_:1}),t(M,{class:"mx-4 pb-2"}),(s(!0),u(h,null,p(i.item.discounts,(l,y)=>(s(),d(I,{key:y+l,class:"py-1"},{default:e(()=>[g("span",Z,n(l),1)]),_:2},1024))),128))]),_:1})]),_:1})):(s(),d(Q,{key:1})),g("div",$,[i.item.quantity>1?(s(),u("span",ee,[t(A,{color:"primary",size:"small"},{default:e(()=>[o(n(i.item.quantity),1)]),_:1})])):f("",!0),i.item.quantity>1?(s(),u("span",te,[o(n(m.$filters.currency(i.item.total))+" ",1),a[5]||(a[5]=g("span",null,"/ea",-1))])):f("",!0),g("span",null,n(m.$filters.currency(i.item.total*i.item.quantity)),1)])]),_:1},8,["class"]),r.isRefundable?(s(),d(c,{key:5,class:"flex-grow-0"},{default:e(()=>[g("div",se,[a[7]||(a[7]=o(" Refund ")),t(x,{size:"40",color:"primary-lighten-2",class:"ml-5",onClick:a[0]||(a[0]=l=>m.toggleSelectedItem(i.item))},{default:e(()=>[o(n(r.isItemChecked?"$checkSquare":"$checkboxOff"),1)]),_:1})])]),_:1})):(s(),d(c,{key:4,class:"flex-grow-0"},{default:e(()=>[t(x,{size:"40",color:"error",class:"ml-15",style:{cursor:"not-allowed"}},{default:e(()=>a[6]||(a[6]=[o(" $checkSquare ")])),_:1,__:[6]})]),_:1}))]),_:1})]),_:1}),r.refunded?(s(),d(L,{key:0,class:"justify-end"},{default:e(()=>[t(G,{class:"expand-trigger rounded-0 rounded-ts-lg text-capitalize font-weight-regular letter-spacing-0 bg-error",elevation:"0",shaped:"",onClick:a[1]||(a[1]=O(l=>_.itemDetailsVisible=!_.itemDetailsVisible,["stop"]))},{default:e(()=>[o(n(r.refundedQuantity===i.item.quantity?"Refunded":"Partial Refund")+" ",1),t(x,{class:"ml-1",size:"17"},{default:e(()=>[o(n(_.itemDetailsVisible?"$caretUp":"$caretDown"),1)]),_:1})]),_:1})]),_:1})):f("",!0),t(H,null,{default:e(()=>[_.itemDetailsVisible?(s(),u("div",ie,[(s(!0),u(h,null,p(i.item.refunds,(l,y)=>(s(),d(z,{key:y,date:l.timestamp,"issued-by":l.username,quantity:l.quantity,tax:i.item.tax,total:l.amount,reason:l.reason,notes:l.notes,class:"pb-8"},null,8,["date","issued-by","quantity","tax","total","reason","notes"]))),128))])):f("",!0)]),_:1})]),_:1},8,["color","class"])}const Ce=R(J,[["render",ae],["__scopeId","data-v-e7b0074e"]]);export{Ce as default};
