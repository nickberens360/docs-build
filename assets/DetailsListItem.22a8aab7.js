import{a as D,c as v}from"./vuex.0eb68a2c.js";import q from"./ItemRefundDetails.53b8a1bf.js";import{g as S,a as R,_ as E}from"./index.8a58b007.js";import B from"./ProductImage.3e5aeb25.js";import{S as C,e as t,x as d,k as e,g as s,E as y,I as r,z as f,J as n,f as o,G as x,j as p,B as I,s as F,F as O,aj as j,ak as N}from"./@vue.ee679632.js";import{x as b,w as c,c as h,X as P,W as L,q as V,k as M,f as Q,i as G,v as A,t as w,p as J,d as K,D as U}from"./vuetify.65d833ec.js";import"./date-fns.d38e1d55.js";import"./vue-atomic-docs.4f3653eb.js";import"./vue-router.ec64e966.js";import"./axios.eca6faa7.js";import"./axios-cache-interceptor.0956cad0.js";import"./cache-parser.124ebbb8.js";import"./fast-defer.b34f24de.js";import"./object-code.c2755e43.js";import"./@fortawesome.2cecc5e3.js";import"./@awesome.me.7dae7d79.js";const W={components:{ProductImage:B,ItemRefundDetails:q},props:{item:{type:Object,required:!0}},data(){return{itemDetailsVisible:!1}},computed:{...D({environment:"app/getEnvConfigs",selectedItems:"order/selectedItems",isOrderEligibleForRefund:"order/isOrderEligibleForRefund"}),isItemChecked(){return this.selectedItems.includes(this.item)},itemCustomizationText(){var u,m,a,k;return{front:(m=(u=this.item.customization)==null?void 0:u.frontSideText)==null?void 0:m.split(`
`),back:(k=(a=this.item.customization)==null?void 0:a.backSideText)==null?void 0:k.split(`
`)}},isOmniProduct(){return S(this.item.type)},omniItemTextColor(){return R(this.item.customization.textColor)},refundedQuantity(){return this.item.refunds.reduce((u,m)=>u+m.quantity,0)},isRefundable(){return this.isOrderEligibleForRefund&&this.item.quantity>this.refundedQuantity},refunded(){return this.item.refunds.length},showFrontBackText(){return this.item.type!=="DN"&&this.item.type!=="KE"&&!this.isOmniProduct}},methods:{...v({toggleSelectedItem:"order/toggleSelectedItem"})}},X=u=>(j("data-v-e7b0074e"),u=u(),N(),u),H={class:"mb-0 mt-3 text-primary-lighten-1"},Y={key:0,class:"list-reset ml-4 on-surface-high-contrast-text"},Z={key:1,class:"ml-4 text-primary-lighten-1"},$={key:0,class:"list-reset ml-4 on-surface-high-contrast-text"},ee={key:1,class:"ml-4 text-primary-lighten-1"},te={class:"text-primary-lighten-1"},se={class:"flex-grow-0 pr-4 text-no-wrap"},ae={key:0,class:"mr-4"},ie={key:1,class:"mr-4 text-caption"},le=X(()=>y("span",null,"/ea",-1)),re={class:"d-flex align-center on-surface-low-contrast-text text-caption-2"},ne={key:0};function oe(u,m,a,k,g,l){const T=C("ProductImage"),z=C("ItemRefundDetails");return t(),d(V,{flat:"",class:I(["details-list-item p-0 rounded-0",{"is-checked":l.isItemChecked,"is-refunded":l.refunded}]),color:l.refunded?"#FEE6E5":"",ripple:!1},{default:e(()=>[s(w,{class:"on-surface-high-contrast-text px-4"},{default:e(()=>[s(b,{justify:"space-between",align:"center"},{default:e(()=>[a.item.type!=="DN"?(t(),d(c,{key:0,cols:"2",class:"d-flex flex-column align-center justify-center text-primary-lighten-1"},{default:e(()=>[s(T,{sku:a.item.sku,"product-type":a.item.type,width:"65px"},null,8,["sku","product-type"]),y("p",H,r(a.item.sku),1)]),_:1})):f("",!0),a.item.type==="DN"?(t(),d(c,{key:1,cols:"2"})):f("",!0),s(c,{class:"text-left on-surface-high-contrast-text"},{default:e(()=>[n(r(a.item.description),1)]),_:1}),l.showFrontBackText?(t(),d(c,{key:2},{default:e(()=>[s(b,{"no-gutters":"",class:"mb-1"},{default:e(()=>[s(c,{cols:"1",class:"d-flex justify-center align-center"},{default:e(()=>[s(h,{class:"mt-1",color:"primary-lighten-2",size:"20"},{default:e(()=>[n(" $bringForward ")]),_:1})]),_:1}),s(c,{cols:"11",class:"d-flex align-center"},{default:e(()=>[l.itemCustomizationText.front?(t(),o("ul",Y,[(t(!0),o(x,null,p(l.itemCustomizationText.front,(i,_)=>(t(),o("li",{key:_},r(i),1))),128))])):(t(),o("span",Z," No Front Text "))]),_:1})]),_:1}),s(b,{"no-gutters":""},{default:e(()=>[s(c,{cols:"1",class:"d-flex justify-center align-center"},{default:e(()=>[s(h,{class:"mt-1",color:"primary-lighten-2",size:"20"},{default:e(()=>[n(" $sendBackward ")]),_:1})]),_:1}),s(c,{cols:"11",class:"d-flex align-center"},{default:e(()=>[l.itemCustomizationText.back?(t(),o("ul",$,[(t(!0),o(x,null,p(l.itemCustomizationText.back,(i,_)=>(t(),o("li",{key:_},r(i),1))),128))])):(t(),o("span",ee," No Back Text "))]),_:1})]),_:1})]),_:1})):f("",!0),l.isOmniProduct?(t(),d(c,{key:3,cols:"3",class:"d-flex align-center"},{default:e(()=>[s(P,{color:l.omniItemTextColor,class:"color-preview-square"},null,8,["color"]),s(c,{class:"on-surface-high-contrast-text"},{default:e(()=>[n(r(a.item.customization.frontSideText),1)]),_:1})]),_:1})):f("",!0),s(c,{cols:"3",class:I(["d-flex justify-space-between",l.refunded?"text-error font-weight-bold":"on-surface-high-contrast-text"])},{default:e(()=>[a.item.discounts.length?(t(),d(L,{key:0,"open-on-hover":"",location:"top"},{activator:e(({props:i})=>[s(h,F(i,{class:"icon-duotone-coupon ml-7"}),{default:e(()=>[n(" $duoCoupon ")]),_:2},1040)]),default:e(()=>[s(V,{class:"pb-2"},{default:e(()=>[s(M,{class:"on-surface-high-contrast-text pb-2"},{default:e(()=>[n(r(a.item.discounts.length>1?"Discount Codes":"Discount Code"),1)]),_:1}),s(Q,{class:"mx-4 pb-2"}),(t(!0),o(x,null,p(a.item.discounts,(i,_)=>(t(),d(w,{key:_+i,class:"py-1"},{default:e(()=>[y("span",te,r(i),1)]),_:2},1024))),128))]),_:1})]),_:1})):(t(),d(G,{key:1})),y("div",se,[a.item.quantity>1?(t(),o("span",ae,[s(A,{color:"primary",size:"small"},{default:e(()=>[n(r(a.item.quantity),1)]),_:1})])):f("",!0),a.item.quantity>1?(t(),o("span",ie,[n(r(u.$filters.currency(a.item.total))+" ",1),le])):f("",!0),y("span",null,r(u.$filters.currency(a.item.total*a.item.quantity)),1)])]),_:1},8,["class"]),l.isRefundable?(t(),d(c,{key:5,class:"flex-grow-0"},{default:e(()=>[y("div",re,[n(" Refund "),s(h,{size:"40",color:"primary-lighten-2",class:"ml-5",onClick:m[0]||(m[0]=i=>u.toggleSelectedItem(a.item))},{default:e(()=>[n(r(l.isItemChecked?"$checkSquare":"$checkboxOff"),1)]),_:1})])]),_:1})):(t(),d(c,{key:4,class:"flex-grow-0"},{default:e(()=>[s(h,{size:"40",color:"error",class:"ml-15",style:{cursor:"not-allowed"}},{default:e(()=>[n(" $checkSquare ")]),_:1})]),_:1}))]),_:1})]),_:1}),l.refunded?(t(),d(J,{key:0,class:"justify-end"},{default:e(()=>[s(K,{class:"expand-trigger rounded-0 rounded-ts-lg text-capitalize font-weight-regular letter-spacing-0 bg-error",elevation:"0",shaped:"",onClick:m[1]||(m[1]=O(i=>g.itemDetailsVisible=!g.itemDetailsVisible,["stop"]))},{default:e(()=>[n(r(l.refundedQuantity===a.item.quantity?"Refunded":"Partial Refund")+" ",1),s(h,{class:"ml-1",size:"17"},{default:e(()=>[n(r(g.itemDetailsVisible?"$caretUp":"$caretDown"),1)]),_:1})]),_:1})]),_:1})):f("",!0),s(U,null,{default:e(()=>[g.itemDetailsVisible?(t(),o("div",ne,[(t(!0),o(x,null,p(a.item.refunds,(i,_)=>(t(),d(z,{key:_,date:i.timestamp,"issued-by":i.username,quantity:i.quantity,tax:a.item.tax,total:i.amount,reason:i.reason,notes:i.notes,class:"pb-8"},null,8,["date","issued-by","quantity","tax","total","reason","notes"]))),128))])):f("",!0)]),_:1})]),_:1},8,["color","class"])}const we=E(W,[["render",oe],["__scopeId","data-v-e7b0074e"]]);export{we as default};
