import{_ as p,u as P,r as c,q as C}from"./index-LK9MQE2L.js";import g from"./DefaultLayout-DdfUBm6-.js";import{C as V,i as r,e as o,E as y,D as h,B as a,J as i,N as M,O as _,H as b,_ as l,A as R}from"./@vue-DNrUJgob.js";import{w as k,n as x,l as N,t as v,aj as S,u,B,a2 as F,r as D,au as L,x as T}from"./vuetify-BgnNF2O3.js";import"./vuex-D3TwipD2.js";import"./date-fns-2ylUqVpG.js";import"./@babel-BTTPuEuv.js";import"./vue-component-docs-plugin-BnqcuvvC.js";import"./vue-router-BVOKdCCq.js";import"./axios-xsH4HHeE.js";import"./axios-cache-interceptor-DgAMPFM2.js";import"./cache-parser-DXYp_BCq.js";import"./fast-defer-9MI9za_P.js";import"./object-code-SBtdq8jY.js";import"./@fortawesome-BWcQmPY7.js";import"./@awesome.me-Btqfd-fw.js";const U={components:{DefaultLayout:g},data(){return{isFormValid:!1,newPassword:"",newPasswordConfirmation:"",isSubmittingNewPassword:!1,confirmationMessage:"",confirmationMessageColor:"",rules:{passwordResetRules:C,confirmPasswordRules:[c,t=>t===this.newPassword||"Passwords Must Match"]},showPassword:!1,showConfirmPassword:!1}},computed:{token(){return this.$route.query.token}},methods:{async submitPasswordReset(){this.isSubmittingNewPassword=!0,this.setConfirmationMessage("");try{(await P.resetPassword(this.newPassword,this.token)).status===200&&this.setConfirmationMessage("Password Updated Successfully","success")}catch(t){t.response.data==="ErrorRepeatPassword"?this.setConfirmationMessage("Password submission failed, repeated password. Please select a new password"):this.setConfirmationMessage("Password submission failed. Please try again or contact an admin")}finally{this.isSubmittingNewPassword=!1}},setConfirmationMessage(t,e="error"){this.confirmationMessage=t,this.confirmationMessageColor=e}}};function j(t,e,q,A,s,m){const d=l("VBtnPrimary"),w=l("RouterLink"),f=l("DefaultLayout");return R(),V(f,{"hide-navigation":""},{default:r(()=>[o(T,{justify:"center"},{default:r(()=>[o(k,{cols:"12",sm:"6",md:"4"},{default:r(()=>[o(x,{modelValue:s.isFormValid,"onUpdate:modelValue":e[4]||(e[4]=n=>s.isFormValid=n),onKeypress:h(m.submitPasswordReset,["enter"]),onSubmit:e[5]||(e[5]=y(()=>{},["prevent"]))},{default:r(()=>[o(N,null,{default:r(()=>[o(v,null,{default:r(()=>[o(S,null,{default:r(()=>e[6]||(e[6]=[a("ul",null,[a("li",null," Minimum 12 characters "),a("li",null," Minimum one lowercase letter "),a("li",null," Minimum one uppercase letter "),a("li",null," Minimum one number "),a("li",null,[i(" Minimum one of these special characters: "),a("p",{class:"mt-1"},` . - # @ ! / : ; ( ) $ & " ? ' + * _ `)])],-1)])),_:1,__:[6]}),o(u,{modelValue:s.newPassword,"onUpdate:modelValue":e[0]||(e[0]=n=>s.newPassword=n),"append-icon":s.showPassword?"fas fa-eye":"fas fa-eye-slash",label:"New Password",type:s.showPassword?"text":"password",rules:s.rules.passwordResetRules,"validate-on":"input","onClick:append":e[1]||(e[1]=n=>s.showPassword=!s.showPassword)},null,8,["modelValue","append-icon","type","rules"]),o(u,{modelValue:s.newPasswordConfirmation,"onUpdate:modelValue":e[2]||(e[2]=n=>s.newPasswordConfirmation=n),"validate-on":"input",label:"Confirm New Password","append-icon":s.showConfirmPassword?"fas fa-eye":"fas fa-eye-slash",type:s.showConfirmPassword?"text":"password",rules:s.rules.confirmPasswordRules,"error-messages":s.newPasswordConfirmation.length>0&&s.newPassword!==s.newPasswordConfirmation?"Passwords Must Match":"","onClick:append":e[3]||(e[3]=n=>s.showConfirmPassword=!s.showConfirmPassword)},null,8,["modelValue","append-icon","type","rules","error-messages"]),o(B,null,{default:r(()=>[M(o(F,{variant:"text",color:s.confirmationMessageColor},{default:r(()=>[i(b(s.confirmationMessage),1)]),_:1},8,["color"]),[[_,s.confirmationMessage.length]])]),_:1})]),_:1}),o(D,{class:"justify-center"},{default:r(()=>[o(d,{disabled:!s.isFormValid||s.isSubmittingNewPassword,loading:s.isSubmittingNewPassword,class:"w-100",onClick:m.submitPasswordReset},{default:r(()=>e[7]||(e[7]=[i(" Reset Password ")])),_:1,__:[7]},8,["disabled","loading","onClick"])]),_:1}),o(L,null,{default:r(()=>[o(w,{to:{name:"login"}},{default:r(()=>e[8]||(e[8]=[i(" Back To Login ")])),_:1,__:[8]})]),_:1})]),_:1})]),_:1},8,["modelValue","onKeypress"])]),_:1})]),_:1})]),_:1})}const os=p(U,[["render",j]]);export{os as default};
