import{_ as p,q as c,r as P,u as g}from"./index.8a58b007.js";import C from"./DefaultLayout.61d229e4.js";import{S as l,e as h,x as V,k as r,g as o,D as y,F as M,L as _,M as b,J as i,I as R,E as n}from"./@vue.ee679632.js";import{w as k,l as x,q as S,t as v,aj as N,u,B as F,a2 as B,p as L,au as D,x as T}from"./vuetify.65d833ec.js";import"./vuex.0eb68a2c.js";import"./date-fns.d38e1d55.js";import"./vue-atomic-docs.4f3653eb.js";import"./vue-router.ec64e966.js";import"./axios.eca6faa7.js";import"./axios-cache-interceptor.0956cad0.js";import"./cache-parser.124ebbb8.js";import"./fast-defer.b34f24de.js";import"./object-code.c2755e43.js";import"./@fortawesome.2cecc5e3.js";import"./@awesome.me.7dae7d79.js";const q={components:{DefaultLayout:C},data(){return{isFormValid:!1,newPassword:"",newPasswordConfirmation:"",isSubmittingNewPassword:!1,confirmationMessage:"",confirmationMessageColor:"",rules:{passwordResetRules:c,confirmPasswordRules:[P,a=>a===this.newPassword||"Passwords Must Match"]},showPassword:!1,showConfirmPassword:!1}},computed:{token(){return this.$route.query.token}},methods:{async submitPasswordReset(){this.isSubmittingNewPassword=!0,this.setConfirmationMessage("");try{(await g.resetPassword(this.newPassword,this.token)).status===200&&this.setConfirmationMessage("Password Updated Successfully","success")}catch(a){a.response.data==="ErrorRepeatPassword"?this.setConfirmationMessage("Password submission failed, repeated password. Please select a new password"):this.setConfirmationMessage("Password submission failed. Please try again or contact an admin")}finally{this.isSubmittingNewPassword=!1}},setConfirmationMessage(a,e="error"){this.confirmationMessage=a,this.confirmationMessageColor=e}}},U=n("ul",null,[n("li",null," Minimum 12 characters "),n("li",null," Minimum one lowercase letter "),n("li",null," Minimum one uppercase letter "),n("li",null," Minimum one number "),n("li",null,[i(" Minimum one of these special characters: "),n("p",{class:"mt-1"},` . - # @ ! / : ; ( ) $ & " ? ' + * _ `)])],-1);function j(a,e,K,A,s,m){const d=l("VBtnPrimary"),w=l("RouterLink"),f=l("DefaultLayout");return h(),V(f,{"hide-navigation":""},{default:r(()=>[o(T,{justify:"center"},{default:r(()=>[o(k,{cols:"12",sm:"6",md:"4"},{default:r(()=>[o(x,{modelValue:s.isFormValid,"onUpdate:modelValue":e[4]||(e[4]=t=>s.isFormValid=t),onKeypress:y(m.submitPasswordReset,["enter"]),onSubmit:e[5]||(e[5]=M(()=>{},["prevent"]))},{default:r(()=>[o(S,null,{default:r(()=>[o(v,null,{default:r(()=>[o(N,null,{default:r(()=>[U]),_:1}),o(u,{modelValue:s.newPassword,"onUpdate:modelValue":e[0]||(e[0]=t=>s.newPassword=t),"append-icon":s.showPassword?"fas fa-eye":"fas fa-eye-slash",label:"New Password",type:s.showPassword?"text":"password",rules:s.rules.passwordResetRules,"validate-on":"input","onClick:append":e[1]||(e[1]=t=>s.showPassword=!s.showPassword)},null,8,["modelValue","append-icon","type","rules"]),o(u,{modelValue:s.newPasswordConfirmation,"onUpdate:modelValue":e[2]||(e[2]=t=>s.newPasswordConfirmation=t),"validate-on":"input",label:"Confirm New Password","append-icon":s.showConfirmPassword?"fas fa-eye":"fas fa-eye-slash",type:s.showConfirmPassword?"text":"password",rules:s.rules.confirmPasswordRules,"error-messages":s.newPasswordConfirmation.length>0&&s.newPassword!==s.newPasswordConfirmation?"Passwords Must Match":"","onClick:append":e[3]||(e[3]=t=>s.showConfirmPassword=!s.showConfirmPassword)},null,8,["modelValue","append-icon","type","rules","error-messages"]),o(F,null,{default:r(()=>[_(o(B,{variant:"text",color:s.confirmationMessageColor},{default:r(()=>[i(R(s.confirmationMessage),1)]),_:1},8,["color"]),[[b,s.confirmationMessage.length]])]),_:1})]),_:1}),o(L,{class:"justify-center"},{default:r(()=>[o(d,{disabled:!s.isFormValid||s.isSubmittingNewPassword,loading:s.isSubmittingNewPassword,class:"w-100",onClick:m.submitPasswordReset},{default:r(()=>[i(" Reset Password ")]),_:1},8,["disabled","loading","onClick"])]),_:1}),o(D,null,{default:r(()=>[o(w,{to:{name:"login"}},{default:r(()=>[i(" Back To Login ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue","onKeypress"])]),_:1})]),_:1})]),_:1})}const os=p(q,[["render",j]]);export{os as default};
