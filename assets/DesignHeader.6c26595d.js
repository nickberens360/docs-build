import{_ as C,d as b,r as v}from"./index.8a58b007.js";import{w as f,f as x,ae as V,s as c,c as g,l as _,u as k,d as y,x as D,aj as N}from"./vuetify.65d833ec.js";import{e as o,x as p,k as e,g as i,f as r,E as l,I as u,s as h,J as m}from"./@vue.ee679632.js";import"./vuex.0eb68a2c.js";import"./date-fns.d38e1d55.js";import"./vue-atomic-docs.4f3653eb.js";import"./vue-router.ec64e966.js";import"./axios.eca6faa7.js";import"./axios-cache-interceptor.0956cad0.js";import"./cache-parser.124ebbb8.js";import"./fast-defer.b34f24de.js";import"./object-code.c2755e43.js";import"./@fortawesome.2cecc5e3.js";import"./@awesome.me.7dae7d79.js";const U={props:{isNew:Boolean,design:{type:Object,default:()=>({})},existsInDatabase:Boolean,existingDesignCodes:{type:Array,default:()=>[]}},emits:["input","update-design-code","update-blacklisted","update-deprecated"],data:()=>({isEditing:!1,valid:{name:!1,designCode:!1}}),computed:{isCarKey(){return this.design.productClass==="CK"},designCode:{get(){return this.design.designCode},set(t){this.$emit("update-design-code",t.toUpperCase())}},englishName:{get(){return this.design.names.find(t=>t.locale==="en").name},set(t){this.design.names.find(s=>s.locale==="en").name=t}},blacklisted:{get(){return this.design.carKeyDesign.blacklisted},set(t){this.$emit("update-blacklisted",t)}},deprecated:{get(){return this.design.skus[0].deprecated},set(t){this.$emit("update-deprecated",t)}}},watch:{valid:{handler:"emitValidationStatus",deep:!0}},methods:{designCodeFormat:b,required:v,emitValidationStatus(){this.$emit("input",this.validate())},designCodeUnique(t){return t===this.initialDesignCode||!this.existingDesignCodes.includes(t)||"can't use existing design code"},validate(){return Object.values(this.$refs).reduce(async(t,s)=>{const{valid:n}=await s.validate();return!s||n&&t},!0)}}},B={key:0,class:"d-flex align-center"},S={class:"text-subtitle-1"},q={class:"text-subtitle-1"},w=l("span",null,"These keys are included in the catalog sent to the kiosk but cannot be sold",-1),K=l("span",null,"These keys are not in the catalog that is sent to the kiosk",-1),E={key:1},T={key:1,class:"text-h6"},F=l("span",null,"Edit Name",-1),I={key:1,class:"text-subtitle-1 text-left text-md-right"};function j(t,s,n,z,H,a){return o(),p(N,{class:"design-header"},{default:e(()=>[i(D,{class:"align-center bg-surface-light px-2"},{default:e(()=>[i(f,{cols:"12",sm:"9"},{default:e(()=>[a.isCarKey?(o(),r("div",B,[l("div",null,[l("div",S," SKU: "+u(n.design.skus[0].sku),1),l("div",q," Hillman SKU: "+u(n.design.carKeyDesign.hillmanSku),1)]),i(x,{class:"mx-4",vertical:""}),l("div",null,[i(V,{modelValue:a.blacklisted,"onUpdate:modelValue":s[0]||(s[0]=d=>a.blacklisted=d),label:"Blacklisted",class:"mr-4","hide-details":""},{append:e(()=>[i(c,{location:"top"},{activator:e(({props:d})=>[i(g,h(d,{class:"ml-n3",size:"18"}),{default:e(()=>[m(" $questionCircle ")]),_:2},1040)]),default:e(()=>[w]),_:1})]),_:1},8,["modelValue"])]),l("div",null,[i(V,{modelValue:a.deprecated,"onUpdate:modelValue":s[1]||(s[1]=d=>a.deprecated=d),label:"Deprecated","hide-details":""},{append:e(()=>[i(c,{location:"top"},{activator:e(({props:d})=>[i(g,h(d,{class:"ml-n3",size:"18"}),{default:e(()=>[m(" $questionCircle ")]),_:2},1040)]),default:e(()=>[K]),_:1})]),_:1},8,["modelValue"])])])):(o(),r("div",E,[n.isNew||t.isEditing?(o(),p(_,{key:0,ref:"name"},{default:e(()=>[i(k,{modelValue:a.englishName,"onUpdate:modelValue":[s[2]||(s[2]=d=>a.englishName=d),a.emitValidationStatus],label:"Name",rules:[a.required]},null,8,["modelValue","rules","onUpdate:modelValue"])]),_:1},512)):(o(),r("div",T,[m(u(a.englishName)+" ",1),i(c,{location:"bottom"},{activator:e(({props:d})=>[i(y,h(d,{class:"ml-1",icon:"",style:{"vertical-align":"sub"},onClick:s[3]||(s[3]=O=>t.isEditing=!0)}),{default:e(()=>[i(g,null,{default:e(()=>[m("$edit")]),_:1})]),_:2},1040)]),default:e(()=>[F]),_:1})]))]))]),_:1}),i(f,{cols:"12",sm:"3"},{default:e(()=>[n.existsInDatabase?(o(),r("div",I," Design Code: "+u(n.design.designCode),1)):(o(),p(_,{key:0,ref:"designCode"},{default:e(()=>[i(k,{modelValue:a.designCode,"onUpdate:modelValue":[s[4]||(s[4]=d=>a.designCode=d),a.emitValidationStatus],label:"Design Code",rules:[a.required,a.designCodeUnique,a.designCodeFormat]},null,8,["modelValue","rules","onUpdate:modelValue"])]),_:1},512))]),_:1})]),_:1})]),_:1})}const te=C(U,[["render",j]]);export{te as default};
